{"ast":null,"code":"import { createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, createBlock as _createBlock, createElementVNode as _createElementVNode, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-ea4dc99a\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"tb-container\"\n};\nconst _hoisted_2 = {\n  key: 0\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_radio = _resolveComponent(\"a-radio\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  const _component_a_modal = _resolveComponent(\"a-modal\");\n  return _openBlock(), _createElementBlock(\"div\", null, [_createVNode(_component_a_modal, {\n    open: _ctx.innerShowModel,\n    \"onUpdate:open\": _cache[2] || (_cache[2] = $event => _ctx.innerShowModel = $event),\n    title: \"选择用户\",\n    centered: \"\",\n    onOk: _ctx.handleOk,\n    width: 800\n  }, {\n    footer: _withCtx(() => [_createVNode(_component_a_button, {\n      key: \"back\",\n      onClick: _ctx.handleCancel\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"取消\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"]), _createVNode(_component_a_button, {\n      key: \"submit\",\n      type: \"primary\",\n      onClick: _cache[0] || (_cache[0] = $event => _ctx.handleOk(this.dataSource[this.selected])),\n      disabled: this.selected === null\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"确认\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"disabled\"])]),\n    default: _withCtx(() => [_createVNode(_component_a_input, {\n      value: _ctx.searchWord,\n      \"onUpdate:value\": _cache[1] || (_cache[1] = $event => _ctx.searchWord = $event),\n      style: {\n        \"width\": \"300px\"\n      },\n      placeholder: \"搜索身份证号或法人代码\"\n    }, null, 8 /* PROPS */, [\"value\"]), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_a_table, {\n      columns: _ctx.columns,\n      \"data-source\": _ctx.dataSourceFiltered,\n      rowKey: \"id\",\n      bordered: \"\"\n    }, {\n      bodyCell: _withCtx(({\n        column,\n        text,\n        index\n      }) => [['id', 'name'].includes(column.dataIndex) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_2, _toDisplayString(text), 1 /* TEXT */)) : (_openBlock(), _createBlock(_component_a_radio, {\n        key: 1,\n        checked: _ctx.checked(index),\n        onClick: $event => this.selected = index\n      }, null, 8 /* PROPS */, [\"checked\", \"onClick\"]))]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"columns\", \"data-source\"])])]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"open\", \"onOk\"])]);\n}","map":{"version":3,"names":["class","_createElementBlock","_createVNode","_component_a_modal","open","_ctx","innerShowModel","$event","title","centered","onOk","handleOk","width","footer","_withCtx","_component_a_button","key","onClick","handleCancel","type","_cache","dataSource","selected","disabled","_component_a_input","value","searchWord","style","placeholder","_createElementVNode","_hoisted_1","_component_a_table","columns","dataSourceFiltered","rowKey","bordered","bodyCell","column","text","index","includes","dataIndex","_hoisted_2","_toDisplayString","_createBlock","_component_a_radio","checked"],"sources":["H:\\GitHub-Repository\\hengsheng\\hello-world\\src\\components\\Business\\Tools\\SelectUserModal.vue"],"sourcesContent":["<script>\r\nimport {defineComponent} from 'vue'\r\nimport axios from \"@/api/request\";\r\nimport {message} from \"ant-design-vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"SelectUserModal\",\r\n  props: [\"showModal\", \"handleOk\", \"handleCancel\"],\r\n  data() {\r\n    return {\r\n      innerShowModel: this.showModal,\r\n      searchWord: \"\",\r\n      dataSource: [],\r\n      columns: [\r\n        {\r\n          title: '身份证号/社会信用号码',\r\n          dataIndex: 'id',\r\n        },\r\n        {\r\n          title: '名称',\r\n          dataIndex: 'name',\r\n        },\r\n        {\r\n          title: '选择',\r\n          dataIndex: 'choose',\r\n        },\r\n      ],\r\n      selected: null\r\n    }\r\n  },\r\n  mounted() {\r\n    axios.get(\"http://118.25.19.55:9901/customer?current=1&size=10000\").then(r => {\r\n      console.log(r)\r\n      this.dataSource = r.data;\r\n    }).catch(() => {\r\n      message.error(\"系统错误，请稍后再试\")\r\n    })\r\n  },\r\n  methods: {\r\n    checked(index) {\r\n      return index === this.selected;\r\n    },\r\n  },\r\n  computed: {\r\n    dataSourceFiltered() {\r\n      if (this.searchWord === \"\") {\r\n        return this.dataSource;\r\n      } else {\r\n        return this.dataSource.filter((v) => v.id.startsWith(this.searchWord));\r\n      }\r\n    }\r\n  },\r\n  watch:{\r\n    innerShowModel(value){\r\n      this.$emit('update:showModal', value);\r\n    },\r\n    showModal(value){\r\n      this.innerShowModel = value;\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <a-modal v-model:open=\"innerShowModel\" title=\"选择用户\" centered @ok=\"handleOk\" :width=\"800\">\r\n      <template #footer>\r\n        <a-button key=\"back\" @click=\"handleCancel\">取消</a-button>\r\n        <a-button key=\"submit\" type=\"primary\" @click=\"handleOk(this.dataSource[this.selected])\" :disabled=\"this.selected===null\">确认</a-button>\r\n      </template>\r\n\r\n      <a-input v-model:value=\"searchWord\" style=\"width: 300px\" placeholder=\"搜索身份证号或法人代码\"></a-input>\r\n\r\n      <div class=\"tb-container\">\r\n        <a-table :columns=\"columns\" :data-source=\"dataSourceFiltered\" rowKey=\"id\" bordered>\r\n          <template #bodyCell=\"{ column, text, index }\">\r\n            <template v-if=\"['id','name'].includes(column.dataIndex)\">\r\n              <div>\r\n                {{ text }}\r\n              </div>\r\n            </template>\r\n            <template v-else>\r\n              <a-radio :checked=\"checked(index)\" @click=\"this.selected=index\"/>\r\n            </template>\r\n          </template>\r\n        </a-table>\r\n      </div>\r\n\r\n    </a-modal>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.tb-container {\r\n  margin: 20px 0;\r\n}\r\n</style>"],"mappings":";;;EAyEWA,KAAK,EAAC;AAAc;;;;;;;;;;uBAT7BC,mBAAA,CAyBM,cAxBJC,YAAA,CAuBUC,kBAAA;IAvBOC,IAAI,EAAEC,IAAA,CAAAC,cAAc;yDAAdD,IAAA,CAAAC,cAAc,GAAAC,MAAA;IAAEC,KAAK,EAAC,MAAM;IAACC,QAAQ,EAAR,EAAQ;IAAEC,IAAE,EAAEL,IAAA,CAAAM,QAAQ;IAAGC,KAAK,EAAE;;IACvEC,MAAM,EAAAC,QAAA,CACf,MAAwD,CAAxDZ,YAAA,CAAwDa,mBAAA;MAA9CC,GAAG,EAAC,MAAM;MAAEC,OAAK,EAAEZ,IAAA,CAAAa;;wBAAc,MAAE,C,iBAAF,IAAE,E;;oCAC7ChB,YAAA,CAAsIa,mBAAA;MAA5HC,GAAG,EAAC,QAAQ;MAACG,IAAI,EAAC,SAAS;MAAEF,OAAK,EAAAG,MAAA,QAAAA,MAAA,MAAAb,MAAA,IAAEF,IAAA,CAAAM,QAAQ,MAAMU,UAAU,MAAMC,QAAQ;MAAKC,QAAQ,OAAOD,QAAQ;;wBAAS,MAAE,C,iBAAF,IAAE,E;;;sBAG7H,MAA6F,CAA7FpB,YAAA,CAA6FsB,kBAAA;MAA5EC,KAAK,EAAEpB,IAAA,CAAAqB,UAAU;4DAAVrB,IAAA,CAAAqB,UAAU,GAAAnB,MAAA;MAAEoB,KAAoB,EAApB;QAAA;MAAA,CAAoB;MAACC,WAAW,EAAC;wCAErEC,mBAAA,CAaM,OAbNC,UAaM,GAZJ5B,YAAA,CAWU6B,kBAAA;MAXAC,OAAO,EAAE3B,IAAA,CAAA2B,OAAO;MAAG,aAAW,EAAE3B,IAAA,CAAA4B,kBAAkB;MAAEC,MAAM,EAAC,IAAI;MAACC,QAAQ,EAAR;;MAC7DC,QAAQ,EAAAtB,QAAA,CACjB,CAIW;QALUuB,MAAM;QAAEC,IAAI;QAAEC;MAAK,O,eACVC,QAAQ,CAACH,MAAM,CAACI,SAAS,K,cACrDxC,mBAAA,CAEM,OAAAyC,UAAA,EAAAC,gBAAA,CADDL,IAAI,qB,cAITM,YAAA,CAAiEC,kBAAA;;QAAvDC,OAAO,EAAEzC,IAAA,CAAAyC,OAAO,CAACP,KAAK;QAAItB,OAAK,EAAAV,MAAA,SAAOe,QAAQ,GAACiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}