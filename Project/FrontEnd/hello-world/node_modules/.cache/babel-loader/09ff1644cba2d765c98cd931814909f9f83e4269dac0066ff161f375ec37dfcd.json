{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, normalizeClass as _normalizeClass, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-c16de144\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"body\"\n};\nconst _hoisted_2 = {\n  class: \"container\"\n};\nconst _hoisted_3 = {\n  class: \"container__form container--signup\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"form__title\"\n}, \"Sign Up\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"container__form container--signin\"\n};\nconst _hoisted_6 = {\n  class: \"form\",\n  id: \"form2\"\n};\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", {\n  class: \"form__title\"\n}, \"Sign In\", -1 /* HOISTED */));\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", {\n    class: _normalizeClass({\n      'right-panel-active': $setup.isRightPanelActive\n    })\n  }, [_createCommentVNode(\" Sign Up \"), _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"form\", {\n    action: \"#\",\n    class: \"form\",\n    id: \"form1\",\n    onSubmit: _cache[3] || (_cache[3] = _withModifiers(() => {}, [\"prevent\"]))\n  }, [_hoisted_4, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"User\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.signUp.user_name = $event),\n    autocomplete: \"off\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.signUp.user_name]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"Name\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.signUp.name = $event),\n    autocomplete: \"off\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.signUp.name]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $setup.signUp.password = $event),\n    autocomplete: \"off\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.signUp.password]]), _createElementVNode(\"button\", {\n    class: \"btn\",\n    onClick: $setup.addUser\n  }, \"Sign Up\")], 32 /* NEED_HYDRATION */)]), _createCommentVNode(\" Sign In \"), _createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_hoisted_7, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    placeholder: \"UserName\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[4] || (_cache[4] = $event => $setup.signIn.user_name = $event),\n    autocomplete: \"off\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.signIn.user_name]]), _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    class: \"input\",\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $setup.signIn.password = $event),\n    autocomplete: \"off\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $setup.signIn.password]]), _createElementVNode(\"button\", {\n    class: \"btn\",\n    onClick: $setup.logIn\n  }, \"Sign In\")]), _createCommentVNode(\" <form action=\\\"#\\\" class=\\\"form\\\" id=\\\"form2\\\" @submit.prevent>\\r\\n            <h2 class=\\\"form__title\\\">Sign In</h2>\\r\\n            <input\\r\\n              type=\\\"email\\\"\\r\\n              placeholder=\\\"Email\\\"\\r\\n              class=\\\"input\\\"\\r\\n              v-model=\\\"signIn.email\\\"\\r\\n              autocomplete=\\\"off\\\"\\r\\n            />\\r\\n            <input\\r\\n              type=\\\"password\\\"\\r\\n              placeholder=\\\"Password\\\"\\r\\n              class=\\\"input\\\"\\r\\n              v-model=\\\"signIn.password\\\"\\r\\n              autocomplete=\\\"off\\\"\\r\\n            />\\r\\n            <button class=\\\"btn\\\" @click=\\\"logIn\\\">Sign In</button>\\r\\n          </form> \")]), _createCommentVNode(\" Overlay \"), _createElementVNode(\"div\", {\n    class: \"container__overlay\"\n  }, [_createElementVNode(\"div\", {\n    class: \"overlay\"\n  }, [_createElementVNode(\"div\", {\n    class: \"overlay__panel overlay--left\"\n  }, [_createElementVNode(\"button\", {\n    class: \"btn\",\n    id: \"signIn\",\n    onClick: $setup.activateLeftPanel\n  }, \" Sign In \")]), _createElementVNode(\"div\", {\n    class: \"overlay__panel overlay--right\"\n  }, [_createElementVNode(\"button\", {\n    class: \"btn\",\n    id: \"signUp\",\n    onClick: $setup.activateRightPanel\n  }, \" Sign Up \")])])])], 2 /* CLASS */)])]);\n}","map":{"version":3,"names":["class","_createElementVNode","id","_createElementBlock","_hoisted_1","_hoisted_2","_normalizeClass","$setup","isRightPanelActive","_createCommentVNode","_hoisted_3","action","onSubmit","_cache","_withModifiers","_hoisted_4","type","placeholder","signUp","user_name","$event","autocomplete","name","password","onClick","addUser","_hoisted_5","_hoisted_6","_hoisted_7","signIn","logIn","activateLeftPanel","activateRightPanel"],"sources":["H:\\GitHub-Repository\\hengsheng\\hello-world\\src\\components\\log-in.vue"],"sourcesContent":["<template>\r\n  <div class=\"body\">\r\n    <div class=\"container\">\r\n      <div :class=\"{ 'right-panel-active': isRightPanelActive }\">\r\n        <!-- Sign Up -->\r\n        <div class=\"container__form container--signup\">\r\n          <form action=\"#\" class=\"form\" id=\"form1\" @submit.prevent>\r\n            <h2 class=\"form__title\">Sign Up</h2>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"User\"\r\n              class=\"input\"\r\n              v-model=\"signUp.user_name\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Name\"\r\n              class=\"input\"\r\n              v-model=\"signUp.name\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              class=\"input\"\r\n              v-model=\"signUp.password\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <button class=\"btn\" @click=\"addUser\">Sign Up</button>\r\n          </form>\r\n        </div>\r\n\r\n        <!-- Sign In -->\r\n\r\n        <div class=\"container__form container--signin\">\r\n          <div class=\"form\" id=\"form2\">\r\n            <h2 class=\"form__title\">Sign In</h2>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"UserName\"\r\n              class=\"input\"\r\n              v-model=\"signIn.user_name\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              class=\"input\"\r\n              v-model=\"signIn.password\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <button class=\"btn\" @click=\"logIn\">Sign In</button>\r\n          </div>\r\n          <!-- <form action=\"#\" class=\"form\" id=\"form2\" @submit.prevent>\r\n            <h2 class=\"form__title\">Sign In</h2>\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              class=\"input\"\r\n              v-model=\"signIn.email\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              class=\"input\"\r\n              v-model=\"signIn.password\"\r\n              autocomplete=\"off\"\r\n            />\r\n            <button class=\"btn\" @click=\"logIn\">Sign In</button>\r\n          </form> -->\r\n        </div>\r\n\r\n        <!-- Overlay -->\r\n        <div class=\"container__overlay\">\r\n          <div class=\"overlay\">\r\n            <div class=\"overlay__panel overlay--left\">\r\n              <button class=\"btn\" id=\"signIn\" @click=\"activateLeftPanel\">\r\n                Sign In\r\n              </button>\r\n            </div>\r\n            <div class=\"overlay__panel overlay--right\">\r\n              <button class=\"btn\" id=\"signUp\" @click=\"activateRightPanel\">\r\n                Sign Up\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"js\">\r\nimport { message } from 'ant-design-vue';\r\nimport { ref ,computed} from 'vue';\r\nimport axios from \"../api/request\";\r\nimport { useRouter } from 'vue-router';\r\nimport { useStorage } from '@vueuse/core'\r\n\r\n\r\n//滑动效果js代码段\r\nconst isRightPanelActive = ref(false);\r\nconst activateLeftPanel = () => {\r\n  isRightPanelActive.value = false;\r\n  // console.log('left');\r\n};\r\nconst activateRightPanel = () => {\r\n  isRightPanelActive.value = true;\r\n  // console.log('right');\r\n\r\n};\r\n\r\n//POST请求发送\r\n  //发送数据Object\r\nconst signIn = ref({\r\n  user_name: '',\r\n  password: '',\r\n})\r\nconst signUp = ref({\r\n  user_name: '',\r\n  password: '',\r\n  name: '',\r\n  email: ''\r\n})\r\n\r\n//控制跳转路径\r\nconst router = useRouter();\r\n\r\n  //发送请求\r\nasync function addUser() {\r\n  try {\r\n    console.log(signUp.value)\r\n    localStorage.removeItem(\"token\");\r\n    const resp = await axios.post('/user/public/register', signUp.value)\r\n    //提出响应数据对象\r\n    const data = resp.data;\r\n    // 处理数据\r\n    console.log(data);\r\n    console.log(typeof(data.success));\r\n    if (data.success) {\r\n      console.log('注册成功')\r\n      message.success('注册成功', 2);\r\n\r\n\r\n      useStorage(\"token\", data.token)\r\n    }\r\n  } catch (error) {\r\n    // 处理错误\r\n    console.error(error);\r\n  }\r\n\r\n}\r\n\r\nasync function logIn() {\r\n  try {\r\n    console.log(signIn.value)\r\n    localStorage.removeItem(\"token\");\r\n\r\n    const resp = await axios.post('/user/public/login',signIn.value)\r\n    //提出响应数据对象\r\n    const data = resp.data;\r\n    // 处理数据\r\n    console.log(data);\r\n    if (data.success) {\r\n      console.log('登录成功')\r\n      message.success('登录成功', 2);\r\n\r\n      console.log(data.token)\r\n\r\n      useStorage(\"token\", data.token)\r\n      router.push({ path: '/menu' })\r\n    }else\r\n    {\r\n      message.error('账号或密码错误');\r\n    }\r\n\r\n\r\n    // const resp = await axios.post('/api/signUp', signIn.value)\r\n    //提出响应数据对象\r\n    // const data = response.data;\r\n    // 处理数据\r\n    // console.log(data);\r\n  } catch (error) {\r\n    // 处理错误\r\n    console.error(error);\r\n    // router.push('/404')\r\n\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n:root {\r\n  /* COLORS */\r\n  --white: #e9e9e9;\r\n  --gray: #333;\r\n  --blue: #0367a6;\r\n  --lightblue: #008997;\r\n\r\n  /* RADII */\r\n  --button-radius: 0.7rem;\r\n\r\n  /* SIZES */\r\n  --max-width: 758px;\r\n  --max-height: 420px;\r\n\r\n  font-size: 16px;\r\n  font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, Oxygen,\r\n    Ubuntu, Cantarell, \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n}\r\n\r\n.body {\r\n  align-items: center;\r\n  background-color: var(--white);\r\n  background: url(\"../assets/background_oeuhe7.jpg\");\r\n  /* 决定背景图像的位置是在视口内固定，或者随着包含它的区块滚动。 */\r\n  /* https://developer.mozilla.org/zh-CN/docs/Web/CSS/background-attachment */\r\n  background-attachment: fixed;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  display: grid;\r\n  height: 100vh;\r\n  place-items: center;\r\n}\r\n.form__title {\r\n  font-weight: 300;\r\n  margin: 0;\r\n  margin-bottom: 1.25rem;\r\n}\r\n\r\n.link {\r\n  color: #333;\r\n  font-size: 0.9rem;\r\n  margin: 1.5rem 0;\r\n  text-decoration: none;\r\n}\r\n\r\n.container {\r\n  background-color: #e9e9e9;\r\n  border-radius: 0.7rem;\r\n  box-shadow: 0 0.9rem 1.7rem rgba(0, 0, 0, 0.25),\r\n    0 0.7rem 0.7rem rgba(0, 0, 0, 0.22);\r\n  height: 420px;\r\n  max-width: 758px;\r\n  overflow: hidden;\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n.container__form {\r\n  height: 100%;\r\n  position: absolute;\r\n  top: 0;\r\n  transition: all 0.6s ease-in-out;\r\n}\r\n\r\n.container--signin {\r\n  left: 0;\r\n  width: 50%;\r\n  z-index: 2;\r\n}\r\n\r\n.right-panel-active .container--signin {\r\n  transform: translateX(100%);\r\n}\r\n\r\n.container--signup {\r\n  left: 0;\r\n  opacity: 0;\r\n  width: 50%;\r\n  z-index: 1;\r\n}\r\n\r\n.right-panel-active .container--signup {\r\n  animation: show 0.6s;\r\n  opacity: 1;\r\n  transform: translateX(100%);\r\n  z-index: 5;\r\n}\r\n\r\n.container__overlay {\r\n  height: 100%;\r\n  left: 50%;\r\n  overflow: hidden;\r\n  position: absolute;\r\n  top: 0;\r\n  transition: transform 0.6s ease-in-out;\r\n  width: 50%;\r\n  z-index: 100;\r\n}\r\n\r\n.right-panel-active .container__overlay {\r\n  transform: translateX(-100%);\r\n}\r\n\r\n.overlay {\r\n  background-color: #008997;\r\n  background: url(\"../assets/background_oeuhe7.jpg\");\r\n  background-attachment: fixed;\r\n  background-position: center;\r\n  background-repeat: no-repeat;\r\n  background-size: cover;\r\n  height: 100%;\r\n  left: -100%;\r\n  position: relative;\r\n  transform: translateX(0);\r\n  transition: transform 0.6s ease-in-out;\r\n  width: 200%;\r\n}\r\n\r\n.right-panel-active .overlay {\r\n  transform: translateX(50%);\r\n}\r\n\r\n.overlay__panel {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  justify-content: center;\r\n  position: absolute;\r\n  text-align: center;\r\n  top: 0;\r\n  transform: translateX(0);\r\n  transition: transform 0.6s ease-in-out;\r\n  width: 50%;\r\n}\r\n\r\n.overlay--left {\r\n  transform: translateX(-20%);\r\n}\r\n\r\n.right-panel-active .overlay--left {\r\n  transform: translateX(0);\r\n}\r\n\r\n.overlay--right {\r\n  right: 0;\r\n  transform: translateX(0);\r\n}\r\n\r\n.right-panel-active .overlay--right {\r\n  transform: translateX(20%);\r\n}\r\n\r\n.btn {\r\n  background-color: #0367a6;\r\n  background-image: linear-gradient(90deg, #0367a6 0%, #008997 74%);\r\n  border-radius: 20px;\r\n  border: 1px solid #0367a6;\r\n  color: #e9e9e9;\r\n  cursor: pointer;\r\n  font-size: 0.8rem;\r\n  font-weight: bold;\r\n  letter-spacing: 0.1rem;\r\n  padding: 0.9rem 4rem;\r\n  text-transform: uppercase;\r\n  transition: transform 80ms ease-in;\r\n}\r\n\r\n.form > .btn {\r\n  margin-top: 1.5rem;\r\n}\r\n\r\n.btn:active {\r\n  transform: scale(0.95);\r\n}\r\n\r\n.btn:focus {\r\n  outline: none;\r\n}\r\n\r\n.form {\r\n  background-color: #e9e9e9;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  flex-direction: column;\r\n  padding: 0 3rem;\r\n  height: 100%;\r\n  text-align: center;\r\n}\r\n\r\n.input {\r\n  background-color: #fff;\r\n  border: none;\r\n  padding: 0.9rem 0.9rem;\r\n  margin: 0.5rem 0;\r\n  width: 100%;\r\n}\r\n\r\n@keyframes show {\r\n  0%,\r\n  49.99% {\r\n    opacity: 0;\r\n    z-index: 1;\r\n  }\r\n\r\n  50%,\r\n  100% {\r\n    opacity: 1;\r\n    z-index: 5;\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}