{"ast":null,"code":"import { message } from \"ant-design-vue\";\nimport axios from \"../api/request\";\nimport { onMounted, ref } from \"vue\";\nexport default {\n  __name: 'searchtitle',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const selectedTitleId = ref(null); // 用于存储选中的题目的 id\n    const showDialog = ref(false); // 控制对话框的显示和隐藏\n    const titleList = ref([]);\n    const fetchTitles = () => {\n      // Make a GET request to your backend API endpoint\n      axios.get(\"/title/getAll\").then(response => {\n        // Set the titles data with the response data\n        console.log(response.data);\n        message.success(\"获取成功\", 2);\n        titleList.value = response.data.data;\n        console.log(titleList.value);\n        console.log(typeof titleList.value);\n      }).catch(error => {\n        console.error(\"Error fetching titles:\", error);\n      });\n    };\n    onMounted(() => {\n      // 这里是组件挂载后执行的代码\n      fetchTitles();\n    });\n    const handleView = data => {\n      // 处理查看题目详情的逻辑\n      console.log(data);\n      selectedTitleId.value = data.id;\n      showDialog.value = data.isShow;\n    };\n    const handleDelete = data => {\n      // 处理查看题目详情的逻辑\n      if (data) {\n        axios.get(\"/title/getAll\").then(response => {\n          titleList.value = response.data.data;\n        }).catch(error => {\n          console.error(\"Error fetching titles:\", error);\n        });\n      }\n    };\n    const handleDialog = data => {\n      showDialog.value = data;\n    };\n    const __returned__ = {\n      selectedTitleId,\n      showDialog,\n      titleList,\n      fetchTitles,\n      handleView,\n      handleDelete,\n      handleDialog,\n      get message() {\n        return message;\n      },\n      get axios() {\n        return axios;\n      },\n      onMounted,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["message","axios","onMounted","ref","selectedTitleId","showDialog","titleList","fetchTitles","get","then","response","console","log","data","success","value","catch","error","handleView","id","isShow","handleDelete","handleDialog"],"sources":["H:/GitHub-Repository/hengsheng/hello-world/src/components/searchtitle.vue"],"sourcesContent":["<template>\r\n  <div class=\"root\">\r\n    <div class=\"card\">\r\n      <component-card\r\n        v-for=\"title in titleList\"\r\n        :key=\"title.id\"\r\n        :titleName=\"title.titleName\"\r\n        :id=\"title.id\"\r\n        :projectName=\"title.projectName\"\r\n        :description=\"title.description\"\r\n        @clickView=\"handleView\"\r\n        @clickDelete=\"handleDelete\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class=\"dialog\">\r\n    <component-dialog\r\n      :key=\"selectedTitleId\"\r\n      :id=\"selectedTitleId\"\r\n      :dialogShow=\"showDialog\"\r\n      @ifShow=\"handleDialog\"\r\n    ></component-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { message } from \"ant-design-vue\";\r\nimport axios from \"../api/request\";\r\nimport { onMounted, ref } from \"vue\";\r\n\r\nconst selectedTitleId = ref(null); // 用于存储选中的题目的 id\r\nconst showDialog = ref(false); // 控制对话框的显示和隐藏\r\nconst titleList = ref([]);\r\n\r\nconst fetchTitles = () => {\r\n  // Make a GET request to your backend API endpoint\r\n  axios\r\n    .get(\"/title/getAll\")\r\n    .then((response) => {\r\n      // Set the titles data with the response data\r\n      console.log(response.data);\r\n      message.success(\"获取成功\", 2);\r\n      titleList.value = response.data.data;\r\n      console.log(titleList.value);\r\n      console.log(typeof titleList.value);\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error fetching titles:\", error);\r\n    });\r\n};\r\n\r\nonMounted(() => {\r\n  // 这里是组件挂载后执行的代码\r\n  fetchTitles();\r\n});\r\nconst handleView = (data) => {\r\n  // 处理查看题目详情的逻辑\r\n  console.log(data);\r\n  selectedTitleId.value = data.id;\r\n  showDialog.value = data.isShow;\r\n};\r\nconst handleDelete = (data) => {\r\n  // 处理查看题目详情的逻辑\r\n  if (data) {\r\n    axios\r\n      .get(\"/title/getAll\")\r\n      .then((response) => {\r\n        titleList.value = response.data.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching titles:\", error);\r\n      });\r\n  }\r\n};\r\n\r\nconst handleDialog = (data) => {\r\n  showDialog.value = data;\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.root {\r\n  padding: 20px; /* 上下左右内边距为 10px */\r\n}\r\n.card {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  gap: 20px; /* 内部元素之间的间距为 20px */\r\n}\r\n</style>\r\n"],"mappings":"AA0BA,SAASA,OAAO,QAAQ,gBAAgB;AACxC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,SAASC,SAAS,EAAEC,GAAG,QAAQ,KAAK;;;;;;;IAEpC,MAAMC,eAAe,GAAGD,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IACnC,MAAME,UAAU,GAAGF,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IAC/B,MAAMG,SAAS,GAAGH,GAAG,CAAC,EAAE,CAAC;IAEzB,MAAMI,WAAW,GAAGA,CAAA,KAAM;MACxB;MACAN,KAAK,CACFO,GAAG,CAAC,eAAe,CAAC,CACpBC,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAACG,IAAI,CAAC;QAC1Bb,OAAO,CAACc,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;QAC1BR,SAAS,CAACS,KAAK,GAAGL,QAAQ,CAACG,IAAI,CAACA,IAAI;QACpCF,OAAO,CAACC,GAAG,CAACN,SAAS,CAACS,KAAK,CAAC;QAC5BJ,OAAO,CAACC,GAAG,CAAC,OAAON,SAAS,CAACS,KAAK,CAAC;MACrC,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;QAChBN,OAAO,CAACM,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,CAAC;IACN,CAAC;IAEDf,SAAS,CAAC,MAAM;MACd;MACAK,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IACF,MAAMW,UAAU,GAAIL,IAAI,IAAK;MAC3B;MACAF,OAAO,CAACC,GAAG,CAACC,IAAI,CAAC;MACjBT,eAAe,CAACW,KAAK,GAAGF,IAAI,CAACM,EAAE;MAC/Bd,UAAU,CAACU,KAAK,GAAGF,IAAI,CAACO,MAAM;IAChC,CAAC;IACD,MAAMC,YAAY,GAAIR,IAAI,IAAK;MAC7B;MACA,IAAIA,IAAI,EAAE;QACRZ,KAAK,CACFO,GAAG,CAAC,eAAe,CAAC,CACpBC,IAAI,CAAEC,QAAQ,IAAK;UAClBJ,SAAS,CAACS,KAAK,GAAGL,QAAQ,CAACG,IAAI,CAACA,IAAI;QACtC,CAAC,CAAC,CACDG,KAAK,CAAEC,KAAK,IAAK;UAChBN,OAAO,CAACM,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAChD,CAAC,CAAC;MACN;IACF,CAAC;IAED,MAAMK,YAAY,GAAIT,IAAI,IAAK;MAC7BR,UAAU,CAACU,KAAK,GAAGF,IAAI;IACzB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}