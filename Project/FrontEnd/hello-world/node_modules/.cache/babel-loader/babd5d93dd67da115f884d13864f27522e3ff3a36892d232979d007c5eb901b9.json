{"ast":null,"code":"import { ref } from 'vue';\nimport { message } from 'ant-design-vue';\nimport { DownloadOutlined } from '@ant-design/icons-vue';\nimport moment from \"moment\";\nimport { useStorage } from '@vueuse/core';\nimport axios from \"../api/request\";\nimport \"moment/locale/zh-cn\";\nexport default {\n  __name: 'Add-product',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const data = ref({\n      id: null,\n      name: '',\n      shortName: '',\n      company: '',\n      managementFee: '',\n      manager: '',\n      nav: '',\n      redemptionFee: '',\n      subscriptionFee: '',\n      riskLevel: '',\n      salesFee: '',\n      startDate: '',\n      status: '',\n      totalShare: '',\n      type: '',\n      custodianFee: ''\n    });\n\n    // function onChange(value, dateString) {\n    //     useStorage(\"date\", dateString)\n\n    // }\n\n    function add() {\n      data.value.custodianFee = parseFloat(data.value.custodianFee);\n      data.value.nav = parseFloat(data.value.nav);\n      data.value.redemptionFee = parseFloat(data.value.redemptionFee);\n      data.value.salesFee = parseFloat(data.value.salesFee);\n      data.value.subscriptionFee = parseFloat(data.value.subscriptionFee);\n      data.value.totalShare = parseFloat(data.value.totalShare);\n      data.value.managementFee = parseFloat(data.value.managementFee);\n      console.log(data.value);\n      if (data.value.id == null) {\n        message.info(\"产品代码未填\");\n        return -1;\n      }\n      axios.put('/product', data.value).then(response => {\n        const resp = response.data;\n        console.log(resp);\n        if (resp.success) {\n          message.success('添加产品成功', 5);\n        } else {\n          message.info(`添加产品失败,${resp.message}`);\n        }\n      }).catch(error => {\n        console.error(error);\n      });\n    }\n    const __returned__ = {\n      data,\n      add,\n      ref,\n      get message() {\n        return message;\n      },\n      get DownloadOutlined() {\n        return DownloadOutlined;\n      },\n      get moment() {\n        return moment;\n      },\n      get useStorage() {\n        return useStorage;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["ref","message","DownloadOutlined","moment","useStorage","axios","data","id","name","shortName","company","managementFee","manager","nav","redemptionFee","subscriptionFee","riskLevel","salesFee","startDate","status","totalShare","type","custodianFee","add","value","parseFloat","console","log","info","put","then","response","resp","success","catch","error"],"sources":["H:/GitHub-Repository/hengsheng/hello-world/src/components/Add-product.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <br />\r\n    <a-row>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"120\">产品代码</label>\r\n        <a-input v-model:value=\"data.id\" size=\"large\" id=\"120\" />\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"121\">产品名称</label>\r\n        <a-input v-model:value=\"data.name\" size=\"large\" id=\"121\" />\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"122\">产品简称</label>\r\n\r\n        <a-input v-model:value=\"data.shortName\" size=\"large\" id=\"122\" />\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <br />\r\n    <br />\r\n\r\n    <a-row>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"123\">发行公司</label>\r\n\r\n        <a-input v-model:value=\"data.company\" size=\"large\" id=\"123\" />\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"124\">管理费率</label>\r\n\r\n        <a-input v-model:value=\"data.managementFee\" id=\"124\" size=\"large\" />\r\n        <span class=\"hint-text\">请输入小于1的数作为管理费率</span>\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"125\">基金经理</label>\r\n\r\n        <a-input v-model:value=\"data.manager\" size=\"large\" id=\"125\" />\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <br />\r\n    <br />\r\n\r\n    <a-row>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"127\">产品净值</label>\r\n        <a-input v-model:value=\"data.nav\" size=\"large\" id=\"127\" />\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"128\">赎回费率</label>\r\n        <a-input v-model:value=\"data.redemptionFee\" id=\"128\" size=\"large\" />\r\n        <span class=\"hint-text\">请输入小于1的数作为赎回费率</span>\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"129\">申购费率</label>\r\n        <a-input v-model:value=\"data.subscriptionFee\" id=\"129\" size=\"large\" />\r\n        <span class=\"hint-text\">请输入小于1的数作为申购费率</span>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <br />\r\n    <br />\r\n    <a-row>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"7\">\r\n        <h3>风险等级：</h3>\r\n        <a-radio-group\r\n          v-model:value=\"data.riskLevel\"\r\n          size=\"large\"\r\n          name=\"radioGroup\"\r\n        >\r\n          <a-radio :value=\"Number(0)\">谨慎</a-radio>\r\n          <a-radio :value=\"Number(1)\">稳健</a-radio>\r\n          <a-radio :value=\"Number(2)\">平稳</a-radio>\r\n          <a-radio :value=\"Number(3)\">进取</a-radio>\r\n          <a-radio :value=\"Number(4)\">激进</a-radio>\r\n        </a-radio-group>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <div></div>\r\n    <br />\r\n    <br />\r\n\r\n    <a-row>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"130\">销售管理费率</label>\r\n        <a-input v-model:value=\"data.salesFee\" id=\"130\" size=\"large\" />\r\n        <span class=\"hint-text\">请输入小于1的数作为销售管理费率</span>\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"131\">日期</label>\r\n        <a-date-picker\r\n          :value-format=\"'YYYY-MM-DD'\"\r\n          id=\"131\"\r\n          size=\"large\"\r\n          v-model:value=\"data.startDate\"\r\n        />\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"132\">产品总份额</label>\r\n        <a-input v-model:value=\"data.totalShare\" size=\"large\" id=\"132\" />\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <br />\r\n    <br />\r\n\r\n    <a-row>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"status\">产品状态：</label>\r\n        <a-select\r\n          id=\"status\"\r\n          ref=\"select\"\r\n          size=\"large\"\r\n          v-model:value=\"data.status\"\r\n          style=\"width: 250px\"\r\n        >\r\n          <a-select-option :value=\"Number(0)\">开放申购</a-select-option>\r\n          <a-select-option :value=\"Number(1)\">不可申购</a-select-option>\r\n        </a-select>\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"type\">产品类型：</label>\r\n        <a-select\r\n          ref=\"select\"\r\n          id=\"type\"\r\n          size=\"large\"\r\n          v-model:value=\"data.type\"\r\n          style=\"width: 250px\"\r\n        >\r\n          <a-select-option :value=\"Number('0')\">股票型</a-select-option>\r\n          <a-select-option :value=\"Number('1')\">债券型</a-select-option>\r\n          <a-select-option :value=\"Number('2')\">混合型</a-select-option>\r\n          <a-select-option :value=\"Number('3')\">货币型</a-select-option>\r\n          <a-select-option :value=\"Number('4')\">ETF联接</a-select-option>\r\n          <a-select-option :value=\"Number('5')\">其他</a-select-option>\r\n        </a-select>\r\n      </a-col>\r\n      <a-col :span=\"1\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <label for=\"134\">托管费率</label>\r\n        <a-input v-model:value=\"data.custodianFee\" id=\"134\" size=\"large\" />\r\n        <span class=\"hint-text\">请输入小于1的数作为托管费率</span>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <br />\r\n    <br />\r\n    <a-row>\r\n      <a-col :span=\"10\"></a-col>\r\n      <a-col :span=\"6\">\r\n        <a-button type=\"primary\" size=\"large\" @click=\"add\">\r\n          <template #icon>\r\n            <DownloadOutlined />\r\n          </template>\r\n          增加产品\r\n        </a-button>\r\n      </a-col>\r\n    </a-row>\r\n\r\n    <br />\r\n  </div>\r\n</template>\r\n\r\n<script setup lang=\"js\">\r\nimport { ref } from 'vue'\r\nimport { message } from 'ant-design-vue';\r\nimport { DownloadOutlined} from '@ant-design/icons-vue';\r\nimport moment from \"moment\";\r\nimport { useStorage } from '@vueuse/core'\r\nimport axios from \"../api/request\";\r\nimport \"moment/locale/zh-cn\"\r\n\r\nconst data = ref({\r\n    id: null,\r\n    name: '',\r\n    shortName: '',\r\n    company: '',\r\n    managementFee: '',\r\n    manager: '',\r\n    nav: '',\r\n    redemptionFee: '',\r\n    subscriptionFee: '',\r\n    riskLevel: '',\r\n    salesFee: '',\r\n    startDate: '',\r\n    status: '',\r\n    totalShare: '',\r\n    type: '',\r\n    custodianFee: ''\r\n\r\n})\r\n\r\n\r\n\r\n\r\n\r\n// function onChange(value, dateString) {\r\n//     useStorage(\"date\", dateString)\r\n\r\n\r\n// }\r\n\r\n\r\nfunction add() {\r\n  data.value.custodianFee = parseFloat(data.value.custodianFee)\r\n  data.value.nav = parseFloat(data.value.nav)\r\n  data.value.redemptionFee = parseFloat(data.value.redemptionFee)\r\n  data.value.salesFee = parseFloat(data.value.salesFee)\r\n  data.value.subscriptionFee = parseFloat(data.value.subscriptionFee)\r\n  data.value.totalShare = parseFloat(data.value.totalShare)\r\n  data.value.managementFee = parseFloat(data.value.managementFee)\r\n  console.log(data.value);\r\n\r\n  if (data.value.id == null) {\r\n    message.info(\"产品代码未填\")\r\n    return -1;\r\n  }\r\n\r\n\r\n  axios.put('/product', data.value)\r\n    .then(response => {\r\n      const resp = response.data\r\n      console.log(resp)\r\n      if (resp.success) {\r\n        message.success('添加产品成功', 5);\r\n      }\r\n      else {\r\n        message.info(`添加产品失败,${resp.message}`);\r\n      }\r\n\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n    });\r\n\r\n\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.hint-text {\r\n  color: red;\r\n}\r\n</style>\r\n"],"mappings":"AAqLA,SAASA,GAAG,QAAQ,KAAK;AACzB,SAASC,OAAO,QAAQ,gBAAgB;AACxC,SAASC,gBAAgB,QAAO,uBAAuB;AACvD,OAAOC,MAAM,MAAM,QAAQ;AAC3B,SAASC,UAAU,QAAQ,cAAc;AACzC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,OAAO,qBAAqB;;;;;;;IAE5B,MAAMC,IAAI,GAAGN,GAAG,CAAC;MACbO,EAAE,EAAE,IAAI;MACRC,IAAI,EAAE,EAAE;MACRC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,EAAE;MACXC,aAAa,EAAE,EAAE;MACjBC,OAAO,EAAE,EAAE;MACXC,GAAG,EAAE,EAAE;MACPC,aAAa,EAAE,EAAE;MACjBC,eAAe,EAAE,EAAE;MACnBC,SAAS,EAAE,EAAE;MACbC,QAAQ,EAAE,EAAE;MACZC,SAAS,EAAE,EAAE;MACbC,MAAM,EAAE,EAAE;MACVC,UAAU,EAAE,EAAE;MACdC,IAAI,EAAE,EAAE;MACRC,YAAY,EAAE;IAElB,CAAC,CAAC;;IAMF;IACA;;IAGA;;IAGA,SAASC,GAAGA,CAAA,EAAG;MACbjB,IAAI,CAACkB,KAAK,CAACF,YAAY,GAAGG,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACF,YAAY,CAAC;MAC7DhB,IAAI,CAACkB,KAAK,CAACX,GAAG,GAAGY,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACX,GAAG,CAAC;MAC3CP,IAAI,CAACkB,KAAK,CAACV,aAAa,GAAGW,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACV,aAAa,CAAC;MAC/DR,IAAI,CAACkB,KAAK,CAACP,QAAQ,GAAGQ,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACP,QAAQ,CAAC;MACrDX,IAAI,CAACkB,KAAK,CAACT,eAAe,GAAGU,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACT,eAAe,CAAC;MACnET,IAAI,CAACkB,KAAK,CAACJ,UAAU,GAAGK,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACJ,UAAU,CAAC;MACzDd,IAAI,CAACkB,KAAK,CAACb,aAAa,GAAGc,UAAU,CAACnB,IAAI,CAACkB,KAAK,CAACb,aAAa,CAAC;MAC/De,OAAO,CAACC,GAAG,CAACrB,IAAI,CAACkB,KAAK,CAAC;MAEvB,IAAIlB,IAAI,CAACkB,KAAK,CAACjB,EAAE,IAAI,IAAI,EAAE;QACzBN,OAAO,CAAC2B,IAAI,CAAC,QAAQ,CAAC;QACtB,OAAO,CAAC,CAAC;MACX;MAGAvB,KAAK,CAACwB,GAAG,CAAC,UAAU,EAAEvB,IAAI,CAACkB,KAAK,CAAC,CAC9BM,IAAI,CAACC,QAAQ,IAAI;QAChB,MAAMC,IAAI,GAAGD,QAAQ,CAACzB,IAAI;QAC1BoB,OAAO,CAACC,GAAG,CAACK,IAAI,CAAC;QACjB,IAAIA,IAAI,CAACC,OAAO,EAAE;UAChBhC,OAAO,CAACgC,OAAO,CAAC,QAAQ,EAAE,CAAC,CAAC;QAC9B,CAAC,MACI;UACHhC,OAAO,CAAC2B,IAAI,CAAE,UAASI,IAAI,CAAC/B,OAAQ,EAAC,CAAC;QACxC;MAEF,CAAC,CAAC,CACDiC,KAAK,CAACC,KAAK,IAAI;QACdT,OAAO,CAACS,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC;IAGN"},"metadata":{},"sourceType":"module","externalDependencies":[]}