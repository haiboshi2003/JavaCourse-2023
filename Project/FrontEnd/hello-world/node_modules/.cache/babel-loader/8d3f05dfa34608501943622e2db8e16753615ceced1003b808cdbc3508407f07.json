{"ast":null,"code":"import { defineComponent } from 'vue';\nimport axios from \"@/api/request\";\nimport { message } from 'ant-design-vue';\nexport default defineComponent({\n  name: \"dailyInit\",\n  data() {\n    return {\n      disableNextBtn: true\n    };\n  },\n  emits: [\"next\"],\n  methods: {\n    dailyInit() {\n      axios.post(\"http://118.25.19.55:9901/settlement/init\").then(r => {\n        console.log(r);\n        if (!r.data.success) {\n          message.error(r.data.message);\n        } else {\n          message.success(r.data.message);\n          this.disableNextBtn = false;\n        }\n      }).catch(_ => {\n        message.error(\"系统错误，请稍后再试\");\n      });\n    },\n    rollback() {\n      axios.post(\"http://118.25.19.55:9901/settlement/rollback\").then(r => {\n        console.log(r);\n        if (!r.data.success) {\n          message.error(r.data.message);\n        } else {\n          message.success(r.data.message);\n        }\n      }).catch(_ => {\n        message.error(\"系统错误，请稍后再试\");\n      });\n    }\n  }\n});","map":{"version":3,"names":["defineComponent","axios","message","name","data","disableNextBtn","emits","methods","dailyInit","post","then","r","console","log","success","error","catch","_","rollback"],"sources":["H:\\GitHub-Repository\\hengsheng\\hello-world\\src\\components\\Business\\Settlement\\dailyInit.vue"],"sourcesContent":["<script>\r\nimport {defineComponent} from 'vue'\r\nimport axios from \"@/api/request\"\r\nimport { message } from 'ant-design-vue';\r\n\r\nexport default defineComponent({\r\n  name: \"dailyInit\",\r\n  data(){\r\n    return{\r\n      disableNextBtn: true\r\n    }\r\n  },\r\n  emits: [\"next\"],\r\n  methods:{\r\n    dailyInit(){\r\n      axios.post(\"http://118.25.19.55:9901/settlement/init\").then(r=>{\r\n        console.log(r)\r\n        if(!r.data.success){\r\n          message.error(r.data.message)\r\n        }else {\r\n          message.success(r.data.message)\r\n          this.disableNextBtn = false;\r\n        }\r\n      }).catch(_=>{message.error(\"系统错误，请稍后再试\")})\r\n    },\r\n    rollback(){\r\n      axios.post(\"http://118.25.19.55:9901/settlement/rollback\").then(r=>{\r\n        console.log(r)\r\n        if(!r.data.success){\r\n          message.error(r.data.message)\r\n        }else {\r\n          message.success(r.data.message)\r\n        }\r\n      }).catch(_=>{message.error(\"系统错误，请稍后再试\")})\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n<div>\r\n  <h1>清算系统</h1>\r\n  <h2>欢迎使用清算系统，今天是{{new Date().toLocaleDateString('zh-CN', {year: 'numeric', month: 'long', day: 'numeric'})}}。</h2>\r\n\r\n  <a-divider/>\r\n\r\n  <a-card title=\"回滚清算\" style=\"width: 80%\">\r\n    <h3>如果您本日已经进行过一次清算，您可以点击下面的按钮回滚后重新清算</h3>\r\n    <h3>请注意，本过程不可撤销！</h3>\r\n    <a-button danger style=\"margin-top: 20px\" type=\"text\" @click=\"rollback\">回滚</a-button>\r\n  </a-card>\r\n\r\n  <div class=\"container\">\r\n    <p>点击下方按钮完成日初始化</p>\r\n    <a-button type=\"primary\" @click=\"dailyInit\">日初始化</a-button>\r\n  </div>\r\n\r\n  <a-divider/>\r\n\r\n  <a-button type=\"primary\" :disabled=\"disableNextBtn\" @click=\"$emit('next')\">下一步</a-button>\r\n</div>\r\n</template>\r\n\r\n<style scoped>\r\nh1{\r\n  font-size: 3em;\r\n}\r\n.container{\r\n  margin: 30px 0;\r\n}\r\n</style>"],"mappings":"AACA,SAAQA,eAAe,QAAO,KAAI;AAClC,OAAOC,KAAI,MAAO,eAAc;AAChC,SAASC,OAAM,QAAS,gBAAgB;AAExC,eAAeF,eAAe,CAAC;EAC7BG,IAAI,EAAE,WAAW;EACjBC,IAAIA,CAAA,EAAE;IACJ,OAAM;MACJC,cAAc,EAAE;IAClB;EACF,CAAC;EACDC,KAAK,EAAE,CAAC,MAAM,CAAC;EACfC,OAAO,EAAC;IACNC,SAASA,CAAA,EAAE;MACTP,KAAK,CAACQ,IAAI,CAAC,0CAA0C,CAAC,CAACC,IAAI,CAACC,CAAC,IAAE;QAC7DC,OAAO,CAACC,GAAG,CAACF,CAAC;QACb,IAAG,CAACA,CAAC,CAACP,IAAI,CAACU,OAAO,EAAC;UACjBZ,OAAO,CAACa,KAAK,CAACJ,CAAC,CAACP,IAAI,CAACF,OAAO;QAC9B,CAAC,MAAK;UACJA,OAAO,CAACY,OAAO,CAACH,CAAC,CAACP,IAAI,CAACF,OAAO;UAC9B,IAAI,CAACG,cAAa,GAAI,KAAK;QAC7B;MACF,CAAC,CAAC,CAACW,KAAK,CAACC,CAAC,IAAE;QAACf,OAAO,CAACa,KAAK,CAAC,YAAY,CAAC;MAAA,CAAC;IAC3C,CAAC;IACDG,QAAQA,CAAA,EAAE;MACRjB,KAAK,CAACQ,IAAI,CAAC,8CAA8C,CAAC,CAACC,IAAI,CAACC,CAAC,IAAE;QACjEC,OAAO,CAACC,GAAG,CAACF,CAAC;QACb,IAAG,CAACA,CAAC,CAACP,IAAI,CAACU,OAAO,EAAC;UACjBZ,OAAO,CAACa,KAAK,CAACJ,CAAC,CAACP,IAAI,CAACF,OAAO;QAC9B,CAAC,MAAK;UACJA,OAAO,CAACY,OAAO,CAACH,CAAC,CAACP,IAAI,CAACF,OAAO;QAChC;MACF,CAAC,CAAC,CAACc,KAAK,CAACC,CAAC,IAAE;QAACf,OAAO,CAACa,KAAK,CAAC,YAAY,CAAC;MAAA,CAAC;IAC3C;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}