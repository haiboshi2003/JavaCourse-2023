{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, Fragment as _Fragment, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-1f6e5d60\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"请根据上一交易日的盈亏情况填写以下基金投资组合的浮动资产总值\", -1 /* HOISTED */));\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"表格中列出的是上一工作日的资产总值。\", -1 /* HOISTED */));\nconst _hoisted_3 = {\n  class: \"flex-container\"\n};\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"item-a\"\n}, [/*#__PURE__*/_createElementVNode(\"h3\", null, \"您可以点击这里批量为所有基金生成资产总值\")], -1 /* HOISTED */));\nconst _hoisted_5 = {\n  class: \"item-b\"\n};\nconst _hoisted_6 = {\n  class: \"tb-container\"\n};\nconst _hoisted_7 = {\n  key: 0\n};\nconst _hoisted_8 = {\n  key: 1,\n  class: \"editable-row-operations\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_card = _resolveComponent(\"a-card\");\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createElementVNode(\"div\", null, [_hoisted_1, _hoisted_2, _createVNode(_component_a_card, {\n    title: \"特别工具\",\n    style: {\n      \"width\": \"90%\",\n      \"margin-top\": \"30px\"\n    }\n  }, {\n    default: _withCtx(() => [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _createElementVNode(\"div\", _hoisted_5, [_createVNode(_component_a_button, {\n      type: \"link\",\n      onClick: _ctx.randomAll\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"批量生成\")]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"onClick\"])])])]),\n    _: 1 /* STABLE */\n  }), _createElementVNode(\"div\", _hoisted_6, [_createVNode(_component_a_table, {\n    columns: _ctx.columns,\n    \"data-source\": _ctx.dataSource,\n    rowKey: \"fundId\",\n    bordered: \"\"\n  }, {\n    bodyCell: _withCtx(({\n      column,\n      text,\n      index\n    }) => [['fundId', 'totalAssets'].includes(column.dataIndex) ? (_openBlock(), _createElementBlock(\"div\", _hoisted_7, [column.dataIndex === 'totalAssets' ? (_openBlock(), _createBlock(_component_a_input, {\n      key: 0,\n      value: _ctx.dataSource[index][column.dataIndex],\n      \"onUpdate:value\": $event => _ctx.dataSource[index][column.dataIndex] = $event,\n      style: {\n        \"margin\": \"-5px 0\"\n      }\n    }, null, 8 /* PROPS */, [\"value\", \"onUpdate:value\"])) : (_openBlock(), _createElementBlock(_Fragment, {\n      key: 1\n    }, [_createTextVNode(_toDisplayString(text), 1 /* TEXT */)], 64 /* STABLE_FRAGMENT */))])) : column.dataIndex === 'operation' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, [_createVNode(_component_a_button, {\n      onClick: $event => _ctx.randomOne(index)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"随机生成\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"data-source\"])])]), _createVNode(_component_a_button, {\n    style: {\n      \"margin-top\": \"0\"\n    },\n    type: \"primary\",\n    onClick: _cache[0] || (_cache[0] = $event => _ctx.$emit('next', this.dataSource))\n  }, {\n    default: _withCtx(() => [_createTextVNode(\"下一步\")]),\n    _: 1 /* STABLE */\n  })], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementVNode","class","_hoisted_1","_hoisted_2","_createVNode","_component_a_card","title","style","_hoisted_3","_hoisted_4","_hoisted_5","_component_a_button","type","onClick","_ctx","randomAll","_hoisted_6","_component_a_table","columns","dataSource","rowKey","bordered","bodyCell","_withCtx","column","text","index","includes","dataIndex","_createElementBlock","_hoisted_7","_createBlock","_component_a_input","value","$event","_Fragment","key","_hoisted_8","randomOne","_cache","$emit"],"sources":["H:\\GitHub-Repository\\hengsheng\\hello-world\\src\\components\\Business\\Settlement\\totalAssets.vue"],"sourcesContent":["<script>\r\nimport {defineComponent} from 'vue'\r\nimport axios from \"@/api/request\";\r\nimport {message} from \"ant-design-vue\";\r\nimport {BigIntDecimal} from \"ant-design-vue/es/input-number/src/utils/MiniDecimal\";\r\n\r\nexport default defineComponent({\r\n  name: \"totalAssets\",\r\n  emits: [\"next\"],\r\n  data() {\r\n    return {\r\n      dataSource: [\r\n      ],\r\n      columns: [\r\n        {\r\n          title: '基金代码',\r\n          dataIndex: 'fundId',\r\n          width: '30%',\r\n        },\r\n        {\r\n          title: '资产总值',\r\n          dataIndex: 'totalAssets',\r\n          width: '45%',\r\n        },\r\n        {\r\n          title: '操作',\r\n          dataIndex: 'operation',\r\n        },\r\n      ]\r\n    }\r\n  },\r\n  methods: {\r\n    randomOne(index) {\r\n      axios.get(\"http://118.25.19.55:9901/settlement/new_assets\", {\r\n        params: {\r\n          old: this.dataSource[index].totalAssets\r\n        }\r\n      }).then(r => {\r\n        console.log(r)\r\n        this.dataSource[index].totalAssets = new BigIntDecimal(r.data).toString();\r\n      }).catch(() => {\r\n        message.error(\"系统错误，请稍后再试\")\r\n      })\r\n    },\r\n    randomAll() {\r\n      axios.post(\"http://118.25.19.55:9901/settlement/new_assets\", this.dataSource.map(v => v.totalAssets)).then(r => {\r\n        console.log(r)\r\n        r.data.forEach((v, i) => {\r\n          this.dataSource[i].totalAssets = new BigIntDecimal(v).toString()\r\n        })\r\n      }).catch(() => {\r\n        message.error(\"系统错误，请稍后再试\")\r\n      })\r\n    }\r\n  },\r\n  mounted() {\r\n    axios.get(\"http://118.25.19.55:9901/settlement/old_assets\").then(r => {\r\n      console.log(r)\r\n      this.dataSource = r.data;\r\n    }).catch(() => {\r\n      message.error(\"系统错误，请稍后再试\")\r\n    })\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <div>\r\n    <h2>请根据上一交易日的盈亏情况填写以下基金投资组合的浮动资产总值</h2>\r\n    <span>表格中列出的是上一工作日的资产总值。</span>\r\n\r\n    <a-card title=\"特别工具\" style=\"width: 90%; margin-top: 30px\">\r\n      <div class=\"flex-container\">\r\n        <div class=\"item-a\"><h3>您可以点击这里批量为所有基金生成资产总值</h3></div>\r\n        <div class=\"item-b\">\r\n          <a-button type=\"link\" @click=\"randomAll\">批量生成</a-button>\r\n        </div>\r\n      </div>\r\n    </a-card>\r\n\r\n    <div class=\"tb-container\">\r\n      <a-table :columns=\"columns\" :data-source=\"dataSource\" rowKey=\"fundId\" bordered>\r\n        <template #bodyCell=\"{ column, text, index }\">\r\n          <template v-if=\"['fundId', 'totalAssets'].includes(column.dataIndex)\">\r\n            <div>\r\n              <a-input\r\n                  v-if=\"column.dataIndex === 'totalAssets'\"\r\n                  v-model:value=\"dataSource[index][column.dataIndex]\"\r\n                  style=\"margin: -5px 0\"\r\n              />\r\n              <template v-else>\r\n                {{ text }}\r\n              </template>\r\n            </div>\r\n          </template>\r\n          <template v-else-if=\"column.dataIndex === 'operation'\">\r\n            <div class=\"editable-row-operations\">\r\n              <a-button @click=\"randomOne(index)\">随机生成</a-button>\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </a-table>\r\n    </div>\r\n  </div>\r\n\r\n  <a-button style=\"margin-top: 0\" type=\"primary\" @click=\"$emit('next', this.dataSource)\">下一步</a-button>\r\n\r\n</template>\r\n\r\n<style scoped>\r\n.tb-container {\r\n  width: 90%;\r\n  margin: 30px 0;\r\n}\r\n\r\n.flex-container {\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n\r\n.item-a {\r\n  text-align: left;\r\n}\r\n\r\n.item-b {\r\n  text-align: right;\r\n}\r\n</style>"],"mappings":";;gEAoEIA,mBAAA,CAAuC,YAAnC,gCAA8B;gEAClCA,mBAAA,CAA+B,cAAzB,oBAAkB;;EAGjBC,KAAK,EAAC;AAAgB;gEACzBD,mBAAA,CAAuD;EAAlDC,KAAK,EAAC;AAAQ,I,aAACD,mBAAA,CAA6B,YAAzB,sBAAoB,E;;EACvCC,KAAK,EAAC;AAAQ;;EAMlBA,KAAK,EAAC;AAAc;;;;;;EAgBZA,KAAK,EAAC;;;;;;;6DA7BrBD,mBAAA,CAoCM,cAnCJE,UAAuC,EACvCC,UAA+B,EAE/BC,YAAA,CAOSC,iBAAA;IAPDC,KAAK,EAAC,MAAM;IAACC,KAAoC,EAApC;MAAA;MAAA;IAAA;;sBACnB,MAKM,CALNP,mBAAA,CAKM,OALNQ,UAKM,GAJJC,UAAuD,EACvDT,mBAAA,CAEM,OAFNU,UAEM,GADJN,YAAA,CAAwDO,mBAAA;MAA9CC,IAAI,EAAC,MAAM;MAAEC,OAAK,EAAEC,IAAA,CAAAC;;wBAAW,MAAI,C,iBAAJ,MAAI,E;;;;MAKnDf,mBAAA,CAsBM,OAtBNgB,UAsBM,GArBJZ,YAAA,CAoBUa,kBAAA;IApBAC,OAAO,EAAEJ,IAAA,CAAAI,OAAO;IAAG,aAAW,EAAEJ,IAAA,CAAAK,UAAU;IAAEC,MAAM,EAAC,QAAQ;IAACC,QAAQ,EAAR;;IACzDC,QAAQ,EAAAC,QAAA,CACjB,CAWW;MAZUC,MAAM;MAAEC,IAAI;MAAEC;IAAK,O,0BACEC,QAAQ,CAACH,MAAM,CAACI,SAAS,K,cACjEC,mBAAA,CASM,OAAAC,UAAA,GAPMN,MAAM,CAACI,SAAS,sB,cAD1BG,YAAA,CAIEC,kBAAA;;MAFUC,KAAK,EAAEnB,IAAA,CAAAK,UAAU,CAACO,KAAK,EAAEF,MAAM,CAACI,SAAS;kCAAlCd,IAAA,CAAAK,UAAU,CAACO,KAAK,EAAEF,MAAM,CAACI,SAAS,IAAAM,MAAA;MACjD3B,KAAsB,EAAtB;QAAA;MAAA;2EAEJsB,mBAAA,CAEWM,SAAA;MAAAC,GAAA;IAAA,I,kCADNX,IAAI,iB,kCAIQD,MAAM,CAACI,SAAS,oB,cACnCC,mBAAA,CAEM,OAFNQ,UAEM,GADJjC,YAAA,CAAmDO,mBAAA;MAAxCE,OAAK,EAAAqB,MAAA,IAAEpB,IAAA,CAAAwB,SAAS,CAACZ,KAAK;;wBAAG,MAAI,C,iBAAJ,MAAI,E;;;;qDAQpDtB,YAAA,CAAqGO,mBAAA;IAA3FJ,KAAqB,EAArB;MAAA;IAAA,CAAqB;IAACK,IAAI,EAAC,SAAS;IAAEC,OAAK,EAAA0B,MAAA,QAAAA,MAAA,MAAAL,MAAA,IAAEpB,IAAA,CAAA0B,KAAK,cAAcrB,UAAU;;sBAAG,MAAG,C,iBAAH,KAAG,E"},"metadata":{},"sourceType":"module","externalDependencies":[]}