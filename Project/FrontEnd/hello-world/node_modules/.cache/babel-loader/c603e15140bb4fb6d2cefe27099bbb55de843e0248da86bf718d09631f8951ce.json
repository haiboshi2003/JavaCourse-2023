{"ast":null,"code":"import { message } from \"ant-design-vue\";\nimport axios from \"../api/request\";\nimport { computed, onMounted, ref } from \"vue\";\nexport default {\n  __name: 'searchtitle',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const selectedTitleId = ref(null); // 用于存储选中的题目的 id\n    const showDialog = ref(false); // 控制对话框的显示和隐藏\n    const titleList = ref([]);\n    const downloadurl = computed(() => {\n      console.log(`http://localhost:7078/data/${selectedTitleId.value}/${selectedTitleId.value}.docx`);\n      return `http://localhost:7078/data/${selectedTitleId.value}/${selectedTitleId.value}.docx`;\n    });\n    const fetchTitles = () => {\n      // Make a GET request to your backend API endpoint\n      axios.get(\"/title/getAll\").then(response => {\n        // Set the titles data with the response data\n        console.log(response.data);\n        message.success(\"获取成功\", 2);\n        titleList.value = response.data.data;\n        console.log(titleList.value);\n        console.log(typeof titleList.value);\n      }).catch(error => {\n        console.error(\"Error fetching titles:\", error);\n      });\n    };\n    onMounted(() => {\n      // 这里是组件挂载后执行的代码\n      fetchTitles();\n    });\n    const handleView = data => {\n      selectedTitleId.value = data.id;\n      showDialog.value = data.isShow;\n    };\n    const handleDelete = data => {\n      // 处理查看题目详情的逻辑\n      if (data) {\n        axios.get(\"/title/getAll\").then(response => {\n          titleList.value = response.data.data;\n        }).catch(error => {\n          console.error(\"Error fetching titles:\", error);\n        });\n      }\n    };\n    const handleDialog = data => {\n      showDialog.value = data;\n    };\n    const __returned__ = {\n      selectedTitleId,\n      showDialog,\n      titleList,\n      downloadurl,\n      fetchTitles,\n      handleView,\n      handleDelete,\n      handleDialog,\n      get message() {\n        return message;\n      },\n      get axios() {\n        return axios;\n      },\n      computed,\n      onMounted,\n      ref\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["message","axios","computed","onMounted","ref","selectedTitleId","showDialog","titleList","downloadurl","console","log","value","fetchTitles","get","then","response","data","success","catch","error","handleView","id","isShow","handleDelete","handleDialog"],"sources":["H:/GitHub-Repository/Java-2023/Project/FrontEnd/hello-world/src/components/searchtitle.vue"],"sourcesContent":["<template>\r\n  <div class=\"root\">\r\n    <div class=\"card\">\r\n      <component-card\r\n        v-for=\"title in titleList\"\r\n        :key=\"title.id\"\r\n        :titleName=\"title.titleName\"\r\n        :id=\"title.id\"\r\n        :projectName=\"title.projectName\"\r\n        :description=\"title.description\"\r\n        @clickView=\"handleView\"\r\n        @clickDelete=\"handleDelete\"\r\n      />\r\n    </div>\r\n  </div>\r\n  <div class=\"dialog\">\r\n    <component-dialog\r\n      :key=\"selectedTitleId\"\r\n      :id=\"selectedTitleId\"\r\n      :url=\"downloadurl\"\r\n      v-if=\"showDialog\"\r\n      @ifShow=\"handleDialog\"\r\n    ></component-dialog>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { message } from \"ant-design-vue\";\r\nimport axios from \"../api/request\";\r\nimport { computed, onMounted, ref } from \"vue\";\r\n\r\nconst selectedTitleId = ref(null); // 用于存储选中的题目的 id\r\nconst showDialog = ref(false); // 控制对话框的显示和隐藏\r\nconst titleList = ref([]);\r\nconst downloadurl = computed(() => {\r\n  console.log(\r\n    `http://localhost:7078/data/${selectedTitleId.value}/${selectedTitleId.value}.docx`\r\n  );\r\n  return `http://localhost:7078/data/${selectedTitleId.value}/${selectedTitleId.value}.docx`;\r\n});\r\n\r\nconst fetchTitles = () => {\r\n  // Make a GET request to your backend API endpoint\r\n  axios\r\n    .get(\"/title/getAll\")\r\n    .then((response) => {\r\n      // Set the titles data with the response data\r\n      console.log(response.data);\r\n      message.success(\"获取成功\", 2);\r\n      titleList.value = response.data.data;\r\n      console.log(titleList.value);\r\n      console.log(typeof titleList.value);\r\n    })\r\n    .catch((error) => {\r\n      console.error(\"Error fetching titles:\", error);\r\n    });\r\n};\r\n\r\nonMounted(() => {\r\n  // 这里是组件挂载后执行的代码\r\n  fetchTitles();\r\n});\r\nconst handleView = (data) => {\r\n  selectedTitleId.value = data.id;\r\n  showDialog.value = data.isShow;\r\n};\r\nconst handleDelete = (data) => {\r\n  // 处理查看题目详情的逻辑\r\n  if (data) {\r\n    axios\r\n      .get(\"/title/getAll\")\r\n      .then((response) => {\r\n        titleList.value = response.data.data;\r\n      })\r\n      .catch((error) => {\r\n        console.error(\"Error fetching titles:\", error);\r\n      });\r\n  }\r\n};\r\n\r\nconst handleDialog = (data) => {\r\n  showDialog.value = data;\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.root {\r\n  padding: 20px; /* 上下左右内边距为 10px */\r\n}\r\n.card {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n\r\n  gap: 20px; /* 内部元素之间的间距为 20px */\r\n}\r\n</style>\r\n"],"mappings":"AA2BA,SAASA,OAAO,QAAQ,gBAAgB;AACxC,OAAOC,KAAK,MAAM,gBAAgB;AAClC,SAASC,QAAQ,EAAEC,SAAS,EAAEC,GAAG,QAAQ,KAAK;;;;;;;IAE9C,MAAMC,eAAe,GAAGD,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;IACnC,MAAME,UAAU,GAAGF,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC;IAC/B,MAAMG,SAAS,GAAGH,GAAG,CAAC,EAAE,CAAC;IACzB,MAAMI,WAAW,GAAGN,QAAQ,CAAC,MAAM;MACjCO,OAAO,CAACC,GAAG,CACR,8BAA6BL,eAAe,CAACM,KAAM,IAAGN,eAAe,CAACM,KAAM,OAC/E,CAAC;MACD,OAAQ,8BAA6BN,eAAe,CAACM,KAAM,IAAGN,eAAe,CAACM,KAAM,OAAM;IAC5F,CAAC,CAAC;IAEF,MAAMC,WAAW,GAAGA,CAAA,KAAM;MACxB;MACAX,KAAK,CACFY,GAAG,CAAC,eAAe,CAAC,CACpBC,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAN,OAAO,CAACC,GAAG,CAACK,QAAQ,CAACC,IAAI,CAAC;QAC1BhB,OAAO,CAACiB,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC;QAC1BV,SAAS,CAACI,KAAK,GAAGI,QAAQ,CAACC,IAAI,CAACA,IAAI;QACpCP,OAAO,CAACC,GAAG,CAACH,SAAS,CAACI,KAAK,CAAC;QAC5BF,OAAO,CAACC,GAAG,CAAC,OAAOH,SAAS,CAACI,KAAK,CAAC;MACrC,CAAC,CAAC,CACDO,KAAK,CAAEC,KAAK,IAAK;QAChBV,OAAO,CAACU,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;MAChD,CAAC,CAAC;IACN,CAAC;IAEDhB,SAAS,CAAC,MAAM;MACd;MACAS,WAAW,CAAC,CAAC;IACf,CAAC,CAAC;IACF,MAAMQ,UAAU,GAAIJ,IAAI,IAAK;MAC3BX,eAAe,CAACM,KAAK,GAAGK,IAAI,CAACK,EAAE;MAC/Bf,UAAU,CAACK,KAAK,GAAGK,IAAI,CAACM,MAAM;IAChC,CAAC;IACD,MAAMC,YAAY,GAAIP,IAAI,IAAK;MAC7B;MACA,IAAIA,IAAI,EAAE;QACRf,KAAK,CACFY,GAAG,CAAC,eAAe,CAAC,CACpBC,IAAI,CAAEC,QAAQ,IAAK;UAClBR,SAAS,CAACI,KAAK,GAAGI,QAAQ,CAACC,IAAI,CAACA,IAAI;QACtC,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;UAChBV,OAAO,CAACU,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAChD,CAAC,CAAC;MACN;IACF,CAAC;IAED,MAAMK,YAAY,GAAIR,IAAI,IAAK;MAC7BV,UAAU,CAACK,KAAK,GAAGK,IAAI;IACzB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}