{"ast":null,"code":"import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, withCtx as _withCtx, toDisplayString as _toDisplayString, openBlock as _openBlock, createElementBlock as _createElementBlock, createCommentVNode as _createCommentVNode, Fragment as _Fragment, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-7a87b164\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h1\", null, \"查单、撤单\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"h2\", null, \"欢迎使用查单、撤单系统。\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"选择待查客户：\", -1 /* HOISTED */));\nconst _hoisted_5 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"身份证号或法人代码\", -1 /* HOISTED */));\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", null, \"名称\", -1 /* HOISTED */));\nconst _hoisted_7 = {\n  class: \"tb-container\"\n};\nconst _hoisted_8 = {\n  key: 0\n};\nconst _hoisted_9 = {\n  key: 1\n};\nconst _hoisted_10 = {\n  key: 2\n};\nconst _hoisted_11 = {\n  key: 3\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_SelectUserModal = _resolveComponent(\"SelectUserModal\");\n  const _component_a_divider = _resolveComponent(\"a-divider\");\n  const _component_a_button = _resolveComponent(\"a-button\");\n  const _component_a_space = _resolveComponent(\"a-space\");\n  const _component_a_input = _resolveComponent(\"a-input\");\n  const _component_a_table = _resolveComponent(\"a-table\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(_component_SelectUserModal, {\n    \"show-modal\": _ctx.sumShow,\n    \"onUpdate:showModal\": _cache[0] || (_cache[0] = $event => _ctx.sumShow = $event),\n    \"handle-ok\": c => {\n      _ctx.selectedCustomer = c;\n      _ctx.sumShow = false;\n    },\n    \"handle-cancel\": () => {\n      _ctx.sumShow = false;\n    }\n  }, null, 8 /* PROPS */, [\"show-modal\", \"handle-ok\", \"handle-cancel\"]), _createElementVNode(\"div\", _hoisted_1, [_hoisted_2, _hoisted_3, _createVNode(_component_a_divider), _createVNode(_component_a_space, {\n    direction: \"vertical\",\n    size: 20\n  }, {\n    default: _withCtx(() => [_createVNode(_component_a_space, null, {\n      default: _withCtx(() => [_hoisted_4, _createVNode(_component_a_button, {\n        onClick: _cache[1] || (_cache[1] = $event => _ctx.sumShow = true)\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"选择客户\")]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_a_space, null, {\n      default: _withCtx(() => [_hoisted_5, _createVNode(_component_a_input, {\n        value: _ctx.selectedCustomer.id,\n        disabled: true\n      }, null, 8 /* PROPS */, [\"value\"]), _hoisted_6, _createVNode(_component_a_input, {\n        value: _ctx.selectedCustomer.name,\n        disabled: true\n      }, null, 8 /* PROPS */, [\"value\"]), _createVNode(_component_a_button, {\n        disabled: _ctx.selectedCustomer.id === '',\n        onClick: _ctx.query\n      }, {\n        default: _withCtx(() => [_createTextVNode(\"查询\")]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"disabled\", \"onClick\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }), _createVNode(_component_a_divider), _createElementVNode(\"div\", _hoisted_7, [_createVNode(_component_a_table, {\n    columns: _ctx.columns,\n    \"data-source\": _ctx.dataSource,\n    rowKey: \"id\",\n    bordered: \"\"\n  }, {\n    bodyCell: _withCtx(({\n      column,\n      text,\n      record\n    }) => [column.dataIndex === 'status' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_8, _toDisplayString(record.status === 0 ? \"待确认\" : record.status === 1 ? \"已确认\" : \"已撤单\"), 1 /* TEXT */)) : column.dataIndex === 'type' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_9, _toDisplayString(record.type === 0 ? \"申购\" : \"赎回\"), 1 /* TEXT */)) : column.dataIndex === 'operation' ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, [_createVNode(_component_a_button, {\n      onClick: $event => _ctx.withdraw(record.id)\n    }, {\n      default: _withCtx(() => [_createTextVNode(\"撤单\")]),\n      _: 2 /* DYNAMIC */\n    }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"onClick\"])])) : (_openBlock(), _createElementBlock(\"div\", _hoisted_11, _toDisplayString(text), 1 /* TEXT */))]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"columns\", \"data-source\"])])])], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementVNode","_createVNode","_component_SelectUserModal","_ctx","sumShow","$event","c","selectedCustomer","handle-cancel","_hoisted_1","_hoisted_2","_hoisted_3","_component_a_divider","_component_a_space","direction","size","_hoisted_4","_component_a_button","onClick","_cache","_hoisted_5","_component_a_input","value","id","disabled","_hoisted_6","name","query","_hoisted_7","_component_a_table","columns","dataSource","rowKey","bordered","bodyCell","_withCtx","column","text","record","dataIndex","_createElementBlock","_hoisted_8","_toDisplayString","status","_hoisted_9","type","_hoisted_10","withdraw","_hoisted_11"],"sources":["H:\\GitHub-Repository\\hengsheng\\hello-world\\src\\components\\Business\\Transactions.vue"],"sourcesContent":["<script>\r\nimport {defineComponent} from 'vue'\r\nimport SelectUserModal from \"@/components/Business/Tools/SelectUserModal.vue\";\r\nimport axios from \"@/api/request\";\r\nimport {message} from \"ant-design-vue\";\r\n\r\nexport default defineComponent({\r\n  name: \"Transactions-service\",\r\n  components: {SelectUserModal},\r\n  data() {\r\n    return {\r\n      sumShow: false,\r\n      selectedCustomer: {\r\n        id: \"\",\r\n        name: \"\"\r\n      },\r\n      dataSource: [],\r\n      columns: [\r\n        {\r\n          title: '交易编号',\r\n          dataIndex: 'id',\r\n        },\r\n        {\r\n          title: '基金代码',\r\n          dataIndex: 'fundId',\r\n        },\r\n        {\r\n          title: '交易类型',\r\n          dataIndex: 'type',\r\n        },\r\n        {\r\n          title: '交易状态',\r\n          dataIndex: 'status',\r\n        },\r\n        {\r\n          title: '交易金额（份额）',\r\n          dataIndex: 'amount',\r\n        },\r\n        {\r\n          title: '提交时间',\r\n          dataIndex: 'transactionTime',\r\n        },\r\n        {\r\n          title: '确认时间',\r\n          dataIndex: 'settlementTime',\r\n        },\r\n        {\r\n          title: '操作',\r\n          dataIndex: 'operation',\r\n        },\r\n      ],\r\n    }\r\n  },\r\n  methods: {\r\n    query() {\r\n      if (this.selectedCustomer.id !== \"\") {\r\n        axios.get(\"http://118.25.19.55:9901/transaction\", {\r\n          params: {\r\n            id: this.selectedCustomer.id,\r\n            current: 1,\r\n            size: 10000\r\n          }\r\n        }).then(r => {\r\n          console.log(r)\r\n          this.dataSource = r.data;\r\n        }).catch(() => {\r\n          message.error(\"系统错误，请稍后再试\")\r\n        })\r\n      }\r\n    },\r\n    withdraw(id) {\r\n      if (id !== \"\") {\r\n        axios.delete(\"http://118.25.19.55:9901/transaction\", {\r\n          params: {\r\n            transactionId: id\r\n          }\r\n        }).then(r => {\r\n          message.success(r.data.message);\r\n          this.query();\r\n        }).catch(() => {\r\n          message.error(\"系统错误，请稍后再试\")\r\n        })\r\n      }\r\n    }\r\n  }\r\n})\r\n</script>\r\n\r\n<template>\r\n  <SelectUserModal v-model:show-modal=\"sumShow\" :handle-ok=\"c=>{selectedCustomer=c;sumShow=false}\"\r\n                   :handle-cancel=\"()=>{sumShow=false}\"/>\r\n  <div class=\"container\">\r\n    <h1>查单、撤单</h1>\r\n    <h2>欢迎使用查单、撤单系统。</h2>\r\n\r\n    <a-divider/>\r\n\r\n    <a-space direction=\"vertical\" :size=\"20\">\r\n      <a-space>\r\n        <span>选择待查客户：</span>\r\n        <a-button @click=\"sumShow=true\">选择客户</a-button>\r\n      </a-space>\r\n\r\n      <a-space>\r\n        <span>身份证号或法人代码</span>\r\n        <a-input :value=\"selectedCustomer.id\" :disabled=\"true\"></a-input>\r\n        <span>名称</span>\r\n        <a-input :value=\"selectedCustomer.name\" :disabled=\"true\"></a-input>\r\n        <a-button :disabled=\"selectedCustomer.id===''\" @click=\"query\">查询</a-button>\r\n      </a-space>\r\n    </a-space>\r\n\r\n    <a-divider/>\r\n\r\n    <div class=\"tb-container\">\r\n      <a-table :columns=\"columns\" :data-source=\"dataSource\" rowKey=\"id\" bordered>\r\n        <template #bodyCell=\"{ column, text, record }\">\r\n          <template v-if=\"column.dataIndex==='status'\">\r\n            <div>\r\n              {{ record.status === 0 ? \"待确认\" : (record.status === 1 ? \"已确认\" : \"已撤单\") }}\r\n            </div>\r\n          </template>\r\n          <template v-else-if=\"column.dataIndex==='type'\">\r\n            <div>\r\n              {{ record.type === 0 ? \"申购\" : \"赎回\" }}\r\n            </div>\r\n          </template>\r\n          <template v-else-if=\"column.dataIndex==='operation'\">\r\n            <div>\r\n              <a-button @click=\"withdraw(record.id)\">撤单</a-button>\r\n            </div>\r\n          </template>\r\n          <template v-else>\r\n            <div>\r\n              {{ text }}\r\n            </div>\r\n          </template>\r\n        </template>\r\n      </a-table>\r\n    </div>\r\n\r\n\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.container {\r\n  margin: 50px;\r\n}\r\n\r\nh1 {\r\n  font-size: 3em;\r\n}\r\n\r\n.tb-container {\r\n  margin: 20px 0;\r\n}\r\n</style>"],"mappings":";;;EA2FOA,KAAK,EAAC;AAAW;gEACpBC,mBAAA,CAAc,YAAV,OAAK;gEACTA,mBAAA,CAAqB,YAAjB,cAAY;gEAMZA,mBAAA,CAAoB,cAAd,SAAO;gEAKbA,mBAAA,CAAsB,cAAhB,WAAS;gEAEfA,mBAAA,CAAe,cAAT,IAAE;;EAQPD,KAAK,EAAC;AAAc;;;;;;;;;;;;;;;;;;;;6DAzB3BE,YAAA,CACuDC,0BAAA;IAD9B,YAAU,EAAEC,IAAA,CAAAC,OAAO;8DAAPD,IAAA,CAAAC,OAAO,GAAAC,MAAA;IAAG,WAAS,EAAEC,CAAC;MAAGH,IAAA,CAAAI,gBAAgB,GAACD,CAAC;MAACH,IAAA,CAAAC,OAAO;IAAA;IACtE,eAAa,EAAAI,CAAA;MAAOL,IAAA,CAAAC,OAAO;IAAA;yEAC7CJ,mBAAA,CAmDM,OAnDNS,UAmDM,GAlDJC,UAAc,EACdC,UAAqB,EAErBV,YAAA,CAAYW,oBAAA,GAEZX,YAAA,CAaUY,kBAAA;IAbDC,SAAS,EAAC,UAAU;IAAEC,IAAI,EAAE;;sBACnC,MAGU,CAHVd,YAAA,CAGUY,kBAAA;wBAFR,MAAoB,CAApBG,UAAoB,EACpBf,YAAA,CAA+CgB,mBAAA;QAApCC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAd,MAAA,IAAEF,IAAA,CAAAC,OAAO;;0BAAO,MAAI,C,iBAAJ,MAAI,E;;;;QAGtCH,YAAA,CAMUY,kBAAA;wBALR,MAAsB,CAAtBO,UAAsB,EACtBnB,YAAA,CAAiEoB,kBAAA;QAAvDC,KAAK,EAAEnB,IAAA,CAAAI,gBAAgB,CAACgB,EAAE;QAAGC,QAAQ,EAAE;0CACjDC,UAAe,EACfxB,YAAA,CAAmEoB,kBAAA;QAAzDC,KAAK,EAAEnB,IAAA,CAAAI,gBAAgB,CAACmB,IAAI;QAAGF,QAAQ,EAAE;0CACnDvB,YAAA,CAA2EgB,mBAAA;QAAhEO,QAAQ,EAAErB,IAAA,CAAAI,gBAAgB,CAACgB,EAAE;QAAQL,OAAK,EAAEf,IAAA,CAAAwB;;0BAAO,MAAE,C,iBAAF,IAAE,E;;;;;;MAIpE1B,YAAA,CAAYW,oBAAA,GAEZZ,mBAAA,CAyBM,OAzBN4B,UAyBM,GAxBJ3B,YAAA,CAuBU4B,kBAAA;IAvBAC,OAAO,EAAE3B,IAAA,CAAA2B,OAAO;IAAG,aAAW,EAAE3B,IAAA,CAAA4B,UAAU;IAAEC,MAAM,EAAC,IAAI;IAACC,QAAQ,EAAR;;IACrDC,QAAQ,EAAAC,QAAA,CACjB,CAIW;MALUC,MAAM;MAAEC,IAAI;MAAEC;IAAM,OACzBF,MAAM,CAACG,SAAS,iB,cAC9BC,mBAAA,CAEM,OAAAC,UAAA,EAAAC,gBAAA,CADDJ,MAAM,CAACK,MAAM,iBAAkBL,MAAM,CAACK,MAAM,0CAG9BP,MAAM,CAACG,SAAS,e,cACnCC,mBAAA,CAEM,OAAAI,UAAA,EAAAF,gBAAA,CADDJ,MAAM,CAACO,IAAI,wCAGGT,MAAM,CAACG,SAAS,oB,cACnCC,mBAAA,CAEM,OAAAM,WAAA,GADJ7C,YAAA,CAAoDgB,mBAAA;MAAzCC,OAAK,EAAAb,MAAA,IAAEF,IAAA,CAAA4C,QAAQ,CAACT,MAAM,CAACf,EAAE;;wBAAG,MAAE,C,iBAAF,IAAE,E;;yEAI3CiB,mBAAA,CAEM,OAAAQ,WAAA,EAAAN,gBAAA,CADDL,IAAI,kB"},"metadata":{},"sourceType":"module","externalDependencies":[]}